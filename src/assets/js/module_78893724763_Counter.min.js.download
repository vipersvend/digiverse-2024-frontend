! function(e, t) {
    "function" == typeof define && define.amd ? define([], t) : "undefined" != typeof exports ? t() : (t(), e.CountdownTimer = {})
}("undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : this, (function() {
    document.querySelectorAll(".countdown-timer").forEach((i => {
        let d = parseInt(i.dataset.target),
            l = [...i.querySelectorAll(".countdown-timer__unit")],
            c = () => {
                r = d, r -= (new Date).valueOf(), e = Math.floor(r / 1e3 % 60), n = Math.floor(r / 1e3 / 60 % 60), o = Math.floor(r / 36e5 % 24);
                let t = {
                    total: r,
                    days: Math.floor(r / 864e5),
                    hours: o,
                    minutes: n,
                    seconds: e
                };
                var e, n, o, r;
                let a = l.map((e => t[e.dataset.unit]));
                if (l.forEach(((e, t) => {
                        t = a[t], e = e.querySelector(".countdown-timer__number"), parseInt(e.innerText) !== t && (e.innerText = 0 < t ? t : 0)
                    })), "true" === i.dataset.hideEmpty && 0 < l.length) {
                    let n = a.findIndex((e => 0 < e));
                    (0 < n || -1 === n) && (l.forEach(((e, t) => {
                        (-1 === n || t < n) && e.remove()
                    })), l.splice(0, -1 === n ? l.length : n), 0 === l.length) && ("none" === i.dataset.completeAction ? i : i.querySelector(".countdown-timer__list")).remove()
                }
                0 < t.total && (0 < l.length || 0 !== t.seconds) ? setTimeout(c, 1e3) : (r = () => {
                    switch (i.dataset.completeAction) {
                        case "redirect":
                            document.location.href = i.dataset.redirect;
                            break;
                        case "text":
                            i.querySelector(".countdown-timer__complete-text").removeAttribute("hidden")
                    }
                }, "true" === i.dataset.active ? r() : i.addEventListener("active", r))
            };
        c(), i.classList.add("init")
    }))
}));
//# sourceURL=https://cdn2.hubspot.net/hub/74005/hub_generated/template_assets/109541530664/1720545977918/asset-marketplace/brightlane-plus/assets/js/components/CountdownTimer.js