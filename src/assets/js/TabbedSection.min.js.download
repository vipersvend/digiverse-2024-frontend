!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),e.TabbedSection=t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class t{constructor(e,t="vertical"){this.el=e,this.direction=t,this.navigationItems=e.querySelectorAll('[role="tab"]'),this.activeNav=null,this.lastFocusedNav=null,this.bodies=e.querySelectorAll('[role="tabpanel"]'),this.activeBody=null,this.el.addEventListener("keydown",(t=>{if(!t.defaultPrevented&&Array.from(this.navigationItems).includes(document.activeElement)){var i=Array.from(this.bodies).indexOf(this.activeBody);let e=null;var s="vertical"===this.direction?"ArrowDown":"ArrowRight",o="vertical"===this.direction?"ArrowUp":"ArrowLeft";switch(t.code){case s:e=this.activeBody===this.bodies[this.bodies.length-1]?this.bodies[0]:this.bodies[i+1];break;case o:e=this.activeBody===this.bodies[0]?this.bodies[this.bodies.length-1]:this.bodies[i-1];break;case"Home":e=this.bodies[0];break;case"End":e=this.bodies[this.bodies.length-1]}e&&(t.preventDefault(),this.makeActive(e),Array.from(this.navigationItems).find((e=>null!==e.offsetParent&&Array.from(this.activeNav).includes(e))).focus())}})),this.navigationItems.forEach((e=>{let t=this.getBody(e);e.addEventListener("click",(e=>{e.defaultPrevented||this.makeActive(t)}))})),this.makeActive(this.bodies[0],!1)}makeActive(e,t=!0){var i=e!==this.activeBody,s=this.getNav(e);this.activeBody=e,this.activeNav=s,this.bodies.forEach((e=>{let t=this.activeBody===e,i=(e.classList.toggle("active",t),e.getBoundingClientRect().top+window.scrollY);document.querySelector(".site-header--sticky")&&(i-=document.querySelector("#site-header").offsetHeight),window.matchMedia("(max-width: 768px)").matches&&e.scroll({top:i,behavior:"smooth"}),this.getNav(e).forEach((e=>{e.classList.toggle("active",t),e.setAttribute("aria-selected",t),e.setAttribute("tabindex",t?0:-1)}))})),t&&window.requestAnimationFrame((()=>{80<=this.activeBody.getBoundingClientRect().top||this.activeBody.scrollIntoView()})),i&&(t=new CustomEvent("tabbed-section.change",{detail:{body:e,navItems:s}}),this.el.dispatchEvent(t))}bodyAndNavMatch(e,t){return e.id===t.getAttribute("aria-controls")}getNav(t){return Array.from(this.navigationItems).filter((e=>this.bodyAndNavMatch(t,e)))}getBody(t){return Array.from(this.bodies).find((e=>this.bodyAndNavMatch(e,t)))}}document.querySelectorAll(".tabs").forEach((e=>{new t(e,e.dataset.direction)})),e.default=t}));
//# sourceURL=https://cdn2.hubspot.net/hub/74005/hub_generated/template_assets/78893829978/1720546545811/asset-marketplace/brightlane-free/assets/js/components/TabbedSection.js