!function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(t={}),e.ModalDialog=t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(e,t=".dialog__close"){this.el=e,this.hasTrigger=!e.classList.contains("dialog-wrapper"),this.trigger=this.hasTrigger?null:e,this.wrapper=this.hasTrigger?document.getElementById(e.getAttribute("aria-controls")):e,this.dialog=this.wrapper.querySelector('[role="dialog"]'),this.closeButton=this.dialog.querySelector(t),this.lastFocus=null,this.clearTrap=null,this.trigger?.addEventListener("click",(e=>{e.preventDefault(),this.open()})),this.dialog.addEventListener("click",(e=>{e.stopPropagation()})),this.wrapper.addEventListener("click",(e=>{this.close()})),this.closeButton&&this.closeButton.addEventListener("click",(e=>{e.preventDefault(),this.close()})),this.handleEsc=e=>{"Escape"===e.code&&(e.preventDefault(),this.close())}}open(){document.documentElement.classList.add("dialog-active"),this.wrapper.classList.add("active"),this.lastFocus=document.activeElement,this.clearTrap=window.themeUtility.trapFocus(this.dialog,this.dialog),document.addEventListener("keydown",this.handleEsc);var e=new Event("dialog.open");this.el.dispatchEvent(e)}close(){document.documentElement.classList.remove("dialog-active"),this.wrapper.classList.remove("active"),(this.lastFocus||this.trigger).focus(),document.removeEventListener("keydown",this.handleEsc),this.clearTrap&&this.clearTrap();var e=new Event("dialog.close");this.el.dispatchEvent(e)}}}));
//# sourceURL=https://cdn2.hubspot.net/hub/74005/hub_generated/template_assets/108283220146/1720545977019/asset-marketplace/brightlane-plus/assets/js/components/ModalDialog.js